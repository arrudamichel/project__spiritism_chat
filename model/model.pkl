"{\n  \"lc\": 1,\n  \"type\": \"constructor\",\n  \"id\": [\n    \"langchain\",\n    \"schema\",\n    \"runnable\",\n    \"RunnableWithMessageHistory\"\n  ],\n  \"kwargs\": {\n    \"bound\": {\n      \"lc\": 1,\n      \"type\": \"constructor\",\n      \"id\": [\n        \"langchain\",\n        \"schema\",\n        \"runnable\",\n        \"RunnableBinding\"\n      ],\n      \"kwargs\": {\n        \"bound\": {\n          \"lc\": 1,\n          \"type\": \"constructor\",\n          \"id\": [\n            \"langchain\",\n            \"schema\",\n            \"runnable\",\n            \"RunnableSequence\"\n          ],\n          \"kwargs\": {\n            \"first\": {\n              \"lc\": 1,\n              \"type\": \"constructor\",\n              \"id\": [\n                \"langchain\",\n                \"schema\",\n                \"runnable\",\n                \"RunnableBinding\"\n              ],\n              \"kwargs\": {\n                \"bound\": {\n                  \"lc\": 1,\n                  \"type\": \"constructor\",\n                  \"id\": [\n                    \"langchain\",\n                    \"schema\",\n                    \"runnable\",\n                    \"RunnableAssign\"\n                  ],\n                  \"kwargs\": {\n                    \"mapper\": {\n                      \"lc\": 1,\n                      \"type\": \"constructor\",\n                      \"id\": [\n                        \"langchain\",\n                        \"schema\",\n                        \"runnable\",\n                        \"RunnableParallel\"\n                      ],\n                      \"kwargs\": {\n                        \"steps__\": {\n                          \"chat_history\": {\n                            \"lc\": 1,\n                            \"type\": \"constructor\",\n                            \"id\": [\n                              \"langchain\",\n                              \"schema\",\n                              \"runnable\",\n                              \"RunnableBinding\"\n                            ],\n                            \"kwargs\": {\n                              \"bound\": {\n                                \"lc\": 1,\n                                \"type\": \"not_implemented\",\n                                \"id\": [\n                                  \"langchain_core\",\n                                  \"runnables\",\n                                  \"base\",\n                                  \"RunnableLambda\"\n                                ],\n                                \"repr\": \"RunnableLambda(_enter_history)\"\n                              },\n                              \"config\": {\n                                \"run_name\": \"load_history\"\n                              }\n                            },\n                            \"name\": \"_enter_history\"\n                          }\n                        }\n                      },\n                      \"name\": \"RunnableParallel<chat_history>\"\n                    }\n                  },\n                  \"name\": \"RunnableAssign<chat_history>\"\n                },\n                \"config\": {\n                  \"run_name\": \"insert_history\"\n                }\n              },\n              \"name\": \"RunnableAssign<chat_history>\"\n            },\n            \"last\": {\n              \"lc\": 1,\n              \"type\": \"constructor\",\n              \"id\": [\n                \"langchain\",\n                \"schema\",\n                \"runnable\",\n                \"RunnableBinding\"\n              ],\n              \"kwargs\": {\n                \"bound\": {\n                  \"lc\": 1,\n                  \"type\": \"not_implemented\",\n                  \"id\": [\n                    \"langchain_core\",\n                    \"runnables\",\n                    \"base\",\n                    \"RunnableLambda\"\n                  ],\n                  \"repr\": \"RunnableLambda(_call_runnable_sync)\"\n                },\n                \"config\": {\n                  \"run_name\": \"check_sync_or_async\"\n                }\n              },\n              \"name\": \"_call_runnable_sync\"\n            }\n          },\n          \"name\": \"RunnableSequence\"\n        },\n        \"config\": {\n          \"run_name\": \"RunnableWithMessageHistory\"\n        }\n      },\n      \"name\": \"RunnableSequence\"\n    },\n    \"get_session_history\": {\n      \"lc\": 1,\n      \"type\": \"not_implemented\",\n      \"id\": [\n        \"__main__\",\n        \"get_session_history\"\n      ],\n      \"repr\": \"<function get_session_history at 0x3d6f61ea0>\"\n    },\n    \"input_messages_key\": \"input\",\n    \"output_messages_key\": \"answer\",\n    \"history_messages_key\": \"chat_history\",\n    \"history_factory_config\": [\n      [\n        \"session_id\",\n        {\n          \"lc\": 1,\n          \"type\": \"not_implemented\",\n          \"id\": [\n            \"builtins\",\n            \"str\"\n          ],\n          \"repr\": \"<class 'str'>\"\n        },\n        \"Session ID\",\n        \"Unique identifier for a session.\",\n        \"\",\n        true,\n        null\n      ]\n    ]\n  },\n  \"name\": \"RunnableSequence\"\n}"